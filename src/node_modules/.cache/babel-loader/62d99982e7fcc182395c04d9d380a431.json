{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ki Thuat 88\\\\Desktop\\\\DUCNGUYEN\\\\reacthook\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport TaskForm from './components/TaskForm';\nimport Control from './components/Control';\nimport TaskList from './components/TaskList';\nimport DoneList from './components/DoneList';\n\nfunction App() {\n  const [isDisplay, setIsDisPlay] = useState(false);\n  const [tasks, setTasks] = useState([]);\n  const [doneTasks, setDoneTasks] = useState([]);\n  const [filterName, setFilterName] = useState('');\n  const [filterStatus, setFilterStatus] = useState(-1);\n  const [key, setKey] = useState('');\n  const [sortByName, setSortByName] = useState('default');\n  const [sortByValue, setSortByValue] = useState(0);\n  const [taskEdit, setTaskEdit] = useState(null);\n  const [isFinishedForm, setIsFinishedForm] = useState(false);\n  useEffect(() => {\n    if (localStorage && localStorage.getItem('tasks')) {\n      var tasks = JSON.parse(localStorage.getItem('tasks'));\n      setTasks(tasks);\n    }\n  }, []);\n\n  function openForm() {\n    setIsDisPlay(true);\n    setIsFinishedForm(false);\n    setTaskEdit(null);\n  }\n\n  function closeForm() {\n    setIsDisPlay(false);\n  }\n\n  function openFinishedForm() {\n    setIsFinishedForm(true);\n    setIsDisPlay(false);\n  }\n\n  function closeFinishedForm() {\n    setIsFinishedForm(false);\n  }\n\n  function submit(data) {\n    var __tasks = [...tasks];\n    var __taskEdit = { ...taskEdit\n    };\n\n    if (data.id === '') {\n      console.log('ok');\n      data.id = generateID();\n      var __task = data;\n\n      __tasks.push(__task);\n\n      setTasks(__tasks);\n    } else {\n      var index = findIndex(data.id);\n\n      if (index !== -1) {\n        __tasks[index] = data;\n        setTasks(__tasks);\n      }\n    }\n\n    closeForm();\n    localStorage.setItem('tasks', JSON.stringify(__tasks));\n  }\n\n  function updateStatus(id) {\n    var __tasks = [...tasks];\n    var index = findIndex(id);\n\n    if (index !== -1) {\n      __tasks[index].status = !__tasks[index].status;\n      localStorage.setItem('tasks', JSON.stringify(__tasks));\n      setTasks(__tasks);\n    }\n  }\n\n  function deleteItem(id) {\n    var index = findIndex(id);\n\n    if (index !== -1) {\n      console.log(index);\n      var __tasks = [...tasks];\n\n      __tasks.splice(index, 1);\n\n      setTasks(__tasks);\n      localStorage.setItem('tasks', JSON.stringify(__tasks));\n    }\n\n    if (taskEdit !== null) {\n      if (taskEdit.id === id) {\n        closeForm();\n      }\n    }\n  }\n\n  function updateItem(id) {\n    openForm();\n    var index = findIndex(id);\n\n    if (index !== -1) {\n      var __tasks = [...tasks];\n      setTaskEdit(__tasks[index]);\n    }\n  }\n\n  function onFilter(__name, __status) {\n    __status = parseInt(__status);\n    setFilterName(__name);\n    setFilterStatus(__status);\n  }\n\n  function findIndex(id) {\n    var res = -1;\n    const __tasks = tasks;\n\n    for (var i = 0; i < __tasks.length; i++) {\n      if (__tasks[i].id === id) {\n        res = i;\n        break;\n      }\n    }\n\n    return res;\n  }\n\n  function onSearch(key) {\n    setKey(key);\n  }\n\n  function onSort(name, value) {\n    setSortByName(name);\n    setSortByValue(value);\n  }\n\n  const drop = e => {\n    e.preventDefault();\n    const card_id = e.dataTransfer.getData('item_id');\n    console.log(card_id, \"haha\");\n    const card = document.getElementById(card_id);\n    console.log(card);\n    card.style.display = 'block';\n    card.style.textAlign = 'center';\n    card.style.height = '48px';\n    card.style.marginBottom = '20px';\n    card.style.paddingTop = '10px';\n    card.style.backgroundColor = 'rgb(230,174,19)';\n    card.style.background = 'linear-gradient(90deg, rgba(230,174,19,1) 0%, rgba(252,168,10,1) 35%, rgba(255,252,0,0.8886905103838411) 100%)';\n    card.style.borderRadius = '10px';\n    card.style.fontFamily = 'tahoma';\n    card.style.cursor = 'pointer';\n    card.setAttribute('draggable', 'false');\n    var index = findIndex(card_id);\n    var __tasks = [...tasks];\n\n    __tasks.splice(index, 1);\n\n    setTasks(__tasks);\n    e.target.appendChild(card);\n  };\n\n  const dragOver = e => {\n    e.preventDefault(); // console.log('over');\n  };\n\n  function s4() {\n    return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n  }\n\n  function generateID() {\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n  }\n\n  var __taskEdit = taskEdit;\n  var elmTaskForm = isDisplay ? /*#__PURE__*/React.createElement(TaskForm, {\n    closeForm: closeForm,\n    onSubmit: submit,\n    task: __taskEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 33\n    }\n  }) : '';\n  var __tasks = [...tasks];\n\n  if (key) {\n    __tasks = __tasks.filter(function (task) {\n      return task.name.toLowerCase().indexOf(key.toLowerCase()) > -1;\n    });\n  }\n\n  if (filterName) {\n    __tasks = __tasks.filter(function (task) {\n      return task.name.toLowerCase().indexOf(filterName.toLowerCase()) > -1;\n    });\n  }\n\n  if (filterStatus === -1) {\n    __tasks = __tasks;\n  } else {\n    __tasks = __tasks.filter(function (task) {\n      return task.status === (filterStatus === 1 ? true : false);\n    });\n  }\n\n  if (sortByName === 'default ') {\n    __tasks = __tasks;\n  } else {\n    if (sortByName === 'name') {\n      __tasks.sort(function (a, b) {\n        if (a.name.toLowerCase() < b.name.toLowerCase()) return -sortByValue;else if (a.name.toLowerCase() > b.name.toLowerCase()) return sortByValue;else return 0;\n      });\n    } else {\n      __tasks.sort(function (a, b) {\n        if (a.status < b.status) return sortByValue;else if (a.status > b.status) return -sortByValue;else return 0;\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 9\n    }\n  }, \"Qu\\u1EA3n L\\xFD C\\xF4ng Vi\\u1EC7c\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: isDisplay === true ? \"col-xs-4 col-sm-4 col-md-4 col-lg-4\" : \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 9\n    }\n  }, elmTaskForm), /*#__PURE__*/React.createElement(\"div\", {\n    className: isDisplay === true || isFinishedForm === true ? \"col-xs-8 col-sm-8 col-md-8 col-lg-8\" : \"col-xs-12 col-sm-12 col-md-12 col-lg-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-open\",\n    onClick: openForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"fa fa-plus mr-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 13\n    }\n  }), \"Th\\xEAm C\\xF4ng Vi\\u1EC7c\"), \"\\xA0\", /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-finished\",\n    onClick: openFinishedForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"fa fa-check-square-o mr-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 13\n    }\n  }), \" Finished\"), \"\\xA0\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Control, {\n    onSearch: onSearch,\n    onSort: onSort,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mt-15\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xs-12 col-sm-12 col-md-12 col-lg-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TaskList, {\n    tasks: __tasks,\n    updateStatus: updateStatus,\n    deleteItem: deleteItem,\n    updateItem: updateItem,\n    onFilter: onFilter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: isFinishedForm === true ? \"col-xs-4 col-sm-4 col-md-4 col-lg-4\" : \"none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mt-15\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center  mh-500 \",\n    onDrop: drop,\n    onDragOver: dragOver,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fa fa-times icon\",\n    onClick: closeFinishedForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 15\n    }\n  }, \"Done Item\"))))));\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Ki Thuat 88/Desktop/DUCNGUYEN/reacthook/src/App.js"],"names":["React","useState","useEffect","TaskForm","Control","TaskList","DoneList","App","isDisplay","setIsDisPlay","tasks","setTasks","doneTasks","setDoneTasks","filterName","setFilterName","filterStatus","setFilterStatus","key","setKey","sortByName","setSortByName","sortByValue","setSortByValue","taskEdit","setTaskEdit","isFinishedForm","setIsFinishedForm","localStorage","getItem","JSON","parse","openForm","closeForm","openFinishedForm","closeFinishedForm","submit","data","__tasks","__taskEdit","id","console","log","generateID","__task","push","index","findIndex","setItem","stringify","updateStatus","status","deleteItem","splice","updateItem","onFilter","__name","__status","parseInt","res","i","length","onSearch","onSort","name","value","drop","e","preventDefault","card_id","dataTransfer","getData","card","document","getElementById","style","display","textAlign","height","marginBottom","paddingTop","backgroundColor","background","borderRadius","fontFamily","cursor","setAttribute","target","appendChild","dragOver","s4","Math","floor","random","toString","substring","elmTaskForm","filter","task","toLowerCase","indexOf","sort","a","b"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport TaskForm from './components/TaskForm';\nimport Control from './components/Control';\nimport TaskList from './components/TaskList';\nimport DoneList from './components/DoneList';\nfunction App() {\n  const [isDisplay, setIsDisPlay] = useState(false);\n  const [tasks, setTasks] = useState([]);\n  const [doneTasks, setDoneTasks] = useState([]);\n  const [filterName, setFilterName] = useState('');\n  const [filterStatus, setFilterStatus] = useState(-1);\n  const [key, setKey] = useState('');\n  const [sortByName, setSortByName] = useState('default');\n  const [sortByValue, setSortByValue] = useState(0);\n  const [taskEdit, setTaskEdit] = useState(null);\n  const [isFinishedForm, setIsFinishedForm] = useState(false);\n  useEffect(() => {\n    if (localStorage && localStorage.getItem('tasks')) {\n      var tasks = JSON.parse(localStorage.getItem('tasks'));\n      setTasks(tasks);\n    }\n  }, []);\n\n  function openForm() {\n    setIsDisPlay(true);\n    setIsFinishedForm(false);\n    setTaskEdit(null);\n  }\n  function closeForm() {\n    setIsDisPlay(false);\n  }\n  function openFinishedForm() {\n    setIsFinishedForm(true);\n    setIsDisPlay(false);\n  }\n  function closeFinishedForm() {\n    setIsFinishedForm(false);\n  }\n  function submit(data) {\n    var __tasks = [...tasks];\n    var __taskEdit = { ...taskEdit };\n    if (data.id === '') {\n      console.log('ok');\n      data.id = generateID();\n      var __task = data;\n      __tasks.push(__task);\n      setTasks(__tasks);\n    }\n    else {\n      var index = findIndex(data.id);\n      if (index !== -1) {\n        __tasks[index] = data;\n        setTasks(__tasks);\n      }\n    }\n    closeForm();\n    localStorage.setItem('tasks', JSON.stringify(__tasks));\n\n  }\n  function updateStatus(id) {\n    var __tasks = [...tasks];\n    var index = findIndex(id);\n    if (index !== -1) {\n      __tasks[index].status = !__tasks[index].status;\n      localStorage.setItem('tasks', JSON.stringify(__tasks));\n      setTasks(__tasks);\n    }\n\n  }\n  function deleteItem(id) {\n    var index = findIndex(id);\n    if (index !== -1) {\n      console.log(index);\n      var __tasks = [...tasks];\n      __tasks.splice(index, 1);\n      setTasks(__tasks);\n      localStorage.setItem('tasks', JSON.stringify(__tasks));\n    }\n    if (taskEdit !== null) {\n      if (taskEdit.id === id) {\n        closeForm();\n      }\n    }\n  }\n  function updateItem(id) {\n    openForm();\n    var index = findIndex(id);\n    if (index !== -1) {\n      var __tasks = [...tasks];\n      setTaskEdit(__tasks[index]);\n    }\n\n  }\n  function onFilter(__name, __status) {\n    __status = parseInt(__status);\n    setFilterName(__name);\n    setFilterStatus(__status);\n  }\n  function findIndex(id) {\n    var res = -1;\n    const __tasks = tasks;\n    for (var i = 0; i < __tasks.length; i++) {\n      if (__tasks[i].id === id) {\n        res = i;\n        break;\n      }\n    }\n    return res;\n  }\n  function onSearch(key) {\n    setKey(key);\n  }\n  function onSort(name, value) {\n    setSortByName(name);\n    setSortByValue(value);\n  }\n\n\n  const drop = e => {\n    e.preventDefault();\n    const card_id = e.dataTransfer.getData('item_id');\n    console.log(card_id, \"haha\");\n    const card = document.getElementById(card_id);\n    console.log(card);\n    card.style.display = 'block';\n    card.style.textAlign = 'center';\n    card.style.height = '48px';\n    card.style.marginBottom = '20px';\n    card.style.paddingTop = '10px';\n    card.style.backgroundColor = 'rgb(230,174,19)';\n    card.style.background = 'linear-gradient(90deg, rgba(230,174,19,1) 0%, rgba(252,168,10,1) 35%, rgba(255,252,0,0.8886905103838411) 100%)';\n    card.style.borderRadius = '10px';\n    card.style.fontFamily = 'tahoma';\n    card.style.cursor = 'pointer';\n    card.setAttribute('draggable', 'false');\n    var index = findIndex(card_id);\n    var __tasks = [...tasks];\n    __tasks.splice(index, 1);\n    setTasks(__tasks);\n    e.target.appendChild(card);\n  }\n  const dragOver = e => {\n    e.preventDefault();\n    // console.log('over');\n  }\n\n  function s4() {\n    return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n  }\n  function generateID() {\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n      s4() + '-' + s4() + s4() + s4();\n  }\n  var __taskEdit = taskEdit;\n\n  var elmTaskForm = isDisplay ? <TaskForm\n    closeForm={closeForm}\n    onSubmit={submit}\n    task={__taskEdit}\n\n  /> : '';\n  var __tasks = [...tasks];\n  if (key) {\n    __tasks = __tasks.filter(function (task) {\n      return task.name.toLowerCase().indexOf(key.toLowerCase()) > -1;\n    });\n  }\n  if (filterName) {\n    __tasks = __tasks.filter(function (task) {\n      return task.name.toLowerCase().indexOf(filterName.toLowerCase()) > -1;\n    });\n  }\n  if (filterStatus === -1) {\n    __tasks = __tasks;\n  }\n  else {\n    __tasks = __tasks.filter(function (task) {\n      return task.status === (filterStatus === 1 ? true : false);\n    });\n  }\n  if (sortByName === 'default ') {\n    __tasks = __tasks;\n  }\n  else {\n    if (sortByName === 'name') {\n      __tasks.sort(function (a, b) {\n        if (a.name.toLowerCase() < b.name.toLowerCase()) return -sortByValue;\n        else if (a.name.toLowerCase() > b.name.toLowerCase()) return sortByValue;\n        else return 0;\n      });\n    }\n    else {\n      __tasks.sort(function (a, b) {\n        if (a.status < b.status) return sortByValue;\n        else if (a.status > b.status) return -sortByValue;\n        else return 0;\n      });\n    }\n  }\n  return (\n    <div className=\"container\">\n\n      <div className=\"text-center\">\n        <h1>Quản Lý Công Việc</h1>\n        <hr />\n      </div>\n\n      <div className=\"row\">\n        <div className={isDisplay === true ? \"col-xs-4 col-sm-4 col-md-4 col-lg-4\" : \"\"}>\n          {elmTaskForm}\n        </div>\n\n        <div className={(isDisplay === true || isFinishedForm === true) ? \"col-xs-8 col-sm-8 col-md-8 col-lg-8\" : \"col-xs-12 col-sm-12 col-md-12 col-lg-12\"} >\n          <button type=\"button\" className=\"btn btn-open\" onClick={openForm}>\n            <span className=\"fa fa-plus mr-5\"></span>Thêm Công Việc\n          </button>&nbsp;\n          <button type=\"button\" className=\"btn btn-finished\" onClick={openFinishedForm}>\n            <span className=\"fa fa-check-square-o mr-5\"></span> Finished\n          </button>&nbsp;\n          <br />\n          <br />\n\n          <Control\n            onSearch={onSearch}\n            onSort={onSort}\n          />\n\n          <br />\n          <br />\n\n          <div className=\"row mt-15\">\n            <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\n              <TaskList\n                tasks={__tasks}\n                updateStatus={updateStatus}\n                deleteItem={deleteItem}\n                updateItem={updateItem}\n                onFilter={onFilter}\n              />\n            </div>\n          </div>\n        </div>\n        <div className={isFinishedForm === true ? \"col-xs-4 col-sm-4 col-md-4 col-lg-4\" : \"none\"}>\n          <div className=\"row mt-15\">\n            <div\n              className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center  mh-500 \"\n              onDrop={drop}\n              onDragOver={dragOver}\n            >\n              <i class=\"fa fa-times icon\" onClick={closeFinishedForm} ></i>\n              <h3>Done Item</h3>\n\n              {/* <DoneList /> */}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div >\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}